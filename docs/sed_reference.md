# Справочное руководство по sed

## Основы sed

### Синтаксис
```bash
sed 'command' file
```

### Базовые операции замены
1. Простая замена текста:
```bash
sed 's/old/new/g' file.txt  # Глобальная замена
```

2. Замена только первого вхождения:
```bash
sed 's/old/new/' file.txt
```

### Фильтрация строк
```bash
sed '1,5d' file.txt  # Удаление строк 1-5
sed '/pattern/d' file.txt  # Удаление строк, содержащих pattern
```

### Вставка и добавление текста
```bash
sed '3i\New line before' file.txt  # Вставка перед 3-й строкой
sed '3a\New line after' file.txt   # Добавление после 3-й строки
```

### Диапазоны и контекст
```bash
sed -n '/start/,/end/p' file.txt  # Вывод между метками
```

### Редактирование "на месте"
```bash
sed -i 's/old/new/g' file.txt  # Изменение файла напрямую
```

### Регулярные выражения
```bash
sed -E 's/[0-9]+/NUMBER/g' file.txt  # Замена цифр
```

### Сложные преобразования
```bash
sed -e 's/a/A/g' -e 's/b/B/g' file.txt  # Множественные замены
```

## Продвинутые техники

### Условные замены
```bash
sed '/pattern/s/old/new/g' file.txt  # Замена только в строках с pattern
```

### Группировка и обратные ссылки
```bash
sed -E 's/([a-z]+) ([a-z]+)/\2 \1/' file.txt  # Перестановка слов
```

### Многострочные операции
```bash
sed -e '1,5c\Replacement text' file.txt  # Замена диапазона строк
```

## Практические сценарии
1. Быстрая правка текста
2. Фильтрация логов
3. Препроцессинг данных
4. Автоматизация правок в файлах 