# Справочное руководство по awk

## Основы awk

### Синтаксис
```bash
awk 'pattern { action }' file
```

### Базовые операции
1. Вывод всех строк:
```bash
awk '{print $0}' file.txt
```

2. Вывод определенных полей:
```bash
awk '{print $1, $3}' file.txt  # Выводит 1-е и 3-е поля
```

### Встроенные переменные
- `$0`: Вся текущая строка
- `$1`, `$2`, ...: Отдельные поля
- `NR`: Номер текущей строки
- `NF`: Количество полей в строке

### Условные операторы
```bash
awk '$3 > 100 {print $1}' file.txt  # Печать 1-го поля, если 3-е поле > 100
```

### Регулярные выражения
```bash
awk '/pattern/ {action}' file.txt  # Действие для строк, содержащих pattern
```

### Математические операции
```bash
awk '{sum += $1} END {print sum}' file.txt  # Сумма первого столбца
```

### Форматированный вывод
```bash
awk '{printf "Имя: %s, Возраст: %d\n", $1, $2}' file.txt
```

## Продвинутые техники

### Пользовательские функции
```bash
awk '
function max(a, b) {
    return a > b ? a : b
}
{print max($1, $2)}
' file.txt
```

### Работа с несколькими файлами
```bash
awk '{print FILENAME, $0}' file1.txt file2.txt
```

### Разделители
```bash
awk -F':' '{print $1}' /etc/passwd  # Использование ':' как разделителя
```

## Практические сценарии
1. Парсинг логов
2. Статистическая обработка данных
3. Генерация отчетов
4. Преобразование форматов 